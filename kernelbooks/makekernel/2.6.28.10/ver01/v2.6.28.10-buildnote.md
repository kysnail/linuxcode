# Compile linux kernel v2.6.28.10
Compile environment.

	OS:
	Linux fedora16.ie2 3.4.7-1.fc16.x86_64 #1 SMP Mon Jul 30 16:37:23 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux

	gcc:
	gcc (GCC) 4.6.3 20120306 (Red Hat 4.6.3-2)
	Copyright (C) 2011 Free Software Foundation, Inc.
	This is free software; see the source for copying conditions.  There is NO
	warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

	make:
	GNU Make 3.82
	Built for x86_64-redhat-linux-gnu
	Copyright (C) 2010  Free Software Foundation, Inc.
	License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
	This is free software: you are free to change and redistribute it.
	There is NO WARRANTY, to the extent permitted by law.

Compile procedure.

	To configure and build the kernel use:
	--------------------------------------
	cd /usr/src/linux-2.6.N
	make O=/home/name/build/kernel menuconfig
	make O=/home/name/build/kernel
	sudo make O=/home/name/build/kernel modules_install install

## make 版本不一致导致的问题
我是用的 make 版本相对比较新，所以会造成下面的错误：

	==$ make O=/home/kangyushi/work/makekernel/2.6.28.10/ver01/build/kernel menuconfig
	/home/kangyushi/work/makekernel/2.6.28.10/ver01/linux-2.6.28.10/Makefile:442: *** mixed implicit and normal rules.  Stop.
	make: *** [sub-make] Error 2

需要修正一下 **Makefile** 的一些语法错误。

	line - 442
	----------
	original
	--------
	config %config: scripts_basic outputmakefile FORCE
		$(Q)mkdir -p include/linux include/config
		$(Q)$(MAKE) $(build)=scripts/kconfig $@	
	-----------------------------------------------------------------------------------------------
	correction
	----------
	config: scripts_basic outputmakefile FORCE
		$(Q)mkdir -p include/linux include/config
		$(Q)$(MAKE) $(build)=scripts/kconfig $@


	%config: scripts_basic outputmakefile FORCE
		$(Q)mkdir -p include/linux include/config
		$(Q)$(MAKE) $(build)=scripts/kconfig $@
	

	line - 1610
	-----------
	original
	--------
	/ %/: prepare scripts FORCE
		$(cmd_crmodverdir)
		$(Q)$(MAKE) KBUILD_MODULES=$(if $(CONFIG_MODULES),1) \
		$(build)=$(build-dir)
	-----------------------------------------------------------------------------------------------
	correction
	----------
	/: prepare scripts FORCE
		$(cmd_crmodverdir)
		$(Q)$(MAKE) KBUILD_MODULES=$(if $(CONFIG_MODULES),1) \
		$(build)=$(build-dir)

	%/: prepare scripts FORCE
		$(cmd_crmodverdir)
		$(Q)$(MAKE) KBUILD_MODULES=$(if $(CONFIG_MODULES),1) \
		$(build)=$(build-dir)

	


