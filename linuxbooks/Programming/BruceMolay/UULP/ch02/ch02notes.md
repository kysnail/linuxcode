# 第 2 章 - 用户、文件操作与联机帮助：编写 who 命令

**概念与技巧**

 * 联机帮助的作用与使用方法
 * Unix 的文件操作函数：open、read、write、lseek、close
 * 文件的建立与读写
 * 文件描述符
 * 缓冲：用户级的缓冲与内核级的缓冲
 * 内核模式、用户模式和系统调用的代价
 * Unix 表示时间的方法与时间格式间的转换
 * 借助 utmp 文件来列出已登录的用户
 * 系统调用中的错误检测与处理

**相关的系统调用**

 * open、read、write、creat、lseek、close
 * perror

**相关命令**

 * man
 * who
 * cp
 * login

## 2.2 关于命令 who
本章的第一个程序通过对以下 3 个问题的解答来学习 who 命令：

 1. who 命令能做些什么？
 2. who 命令是如何工作的？
 3. 如何编写 who？

**命令也是程序**
在 Unix 系统中增加新的命令是一件很容易的事。把程序的可执行文件放到以下任意一个目录就可以了：

	/bin
	/usr/bin
	/usr/local/bin


